# 项目说明



### 初始化

`npm install`



### 修改配置

```javascript
// ./funcitons.js
const config = {
  // 项目地址
  project_path: '/Users/rossroma/Gitlab/xbb-pro-web-front',
  // 要提取中文的目录
  dir_path: '/src/components/base',
  // 要修改添加的语言包路径
  lang_path: '/src/lang/zh/filters.js',
  // 命名空间
  nameSpace: ''
}
```





### 启动项目

```
node index add
```

### 注意事项
```html
1.由于本项目的匹配和替换都是用正则匹配
所以在实际使用中出现一些特殊的情况或者不规范的写法会导致查找替换失效
  例如：
    <span>前面有文字{{ test }}后面有文字</span>
    以上这种情况由于情形较少且需要根据场景翻译，所以没有加入到规则中，可以手动替换，或等到后期进行具体情形翻译
  另外：
    如果props中的default里出现了中文字符，请更改成以下格式：
    <script>
    ...
    props: {
      title: {
        type: String,
        default: () => {
          return i18n.t('message.confirmTitle')
        }
      }
    }
    ...
    </script>

2.在命名时相近语义时，注意不要将键值设成一样，如果是相同文字，最好统一键值

3.在js,dom,属性中的匹配方式都是分别以引号（''）,尖括号（<>）,或者是（="）等为开头或结尾进行匹配的，
所以存在一种情况，就是在注释内容或者已经注释掉的代码块中，其中的中文字符仍然会被匹配出来。
例如：
  /*
  * @LastEditTime: 2019-08-15 16:21:21
  * @Description: '这是菜单模块api'
  */
  于是做了以下全局替换变为
  /*
  * @LastEditTime: 2019-08-15 16:21:21
  * @Description: 这是菜单模块api
  */

4.特殊符号的一些处理：
  比如英文的问号和竖线等，在匹配时需要一些转义。
  另：js中如果如果出现字符串前后有空格的情况也是无法正确替换的，由于这种情况很罕见，所以没有做特殊处理。

5.js中的模板字符串中的变量替换是很有可能出现问题的：
  现在的模板字符串中替换是和引号的替换方式一致，讲中文字符串替换为this.$t(''),
  这种替换在以下情况会出错：
  `${a} + '需要替换'` => `${a} + this.$t('x.x')`
  而在另一种情况下又是正确的：
  `${a + '需要替换'}` => `${a + this.$t('x.x')}`
  所以没有对这种情况进行处理，就在存在变量时不进行自动替换，只整理字段，然后手动替换

 注：在使用脚本替换变量的时候，可能会出现一些意想不到的bug：
    比如匹配不出结果等，或者匹配出结果后替换出现BUG等等。
    这时候请根据具体情况对相对应的情况进行处理，修改正则规则。

```
